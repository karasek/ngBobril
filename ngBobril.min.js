!function(n,r){if(!b)throw Error("Cannot find bobril library");if(b.init(function(){return!1}),"undefined"!=n.b&&"undefined"!=n.angular)n.ngBobril=r(n.b,n.angular);else if("undefined"!=typeof module&&module.exports)module.exports=r(require("bobril"),require("angular"));else{if("function"!=typeof define||!define.amd)throw Error("Unable to resolve dependencies");define(["bobril","angular"],function(t,e){return n.ngBobril=r(t,e)})}}(this,function(n,r){"use strict";function t(n,t){if(r.isFunction(n))return n;if(!n)throw Error("BobrilComponent name attribute must be specified");var e;try{e=t.get(n)}catch(i){}if(!e)try{e=n.split(".").reduce(function(n,r){return n[r]},window)}catch(i){}if(!e)throw Error("Cannot find bobril component "+n);return e}function e(n,r){return n.wrappedInApply?n:function(){var t=arguments;r.$apply(function(){n.wrappedInApply=!0,n.apply(null,t)})}}function i(n,t){return Object.keys(n||{}).reduce(function(i,o){var u=n[o];return i[o]=r.isFunction(u)?e(u,t):u,i},{})}function o(r,t,e,i){e(function(){var e=i[0];e.id&&n.removeRoot(e.id),e.id=n.addRoot(function(){return{tag:"div",data:t,component:r}},e)})}var u=function(r,e){return{restrict:"E",replace:!0,link:function(u,c,a){var f=t(a.name,e),d=function(){var n=u.$eval(a.data),t=i(n,u);o(f,t,r,c)};a.data?u.$watch(a.data,d,!0):d(),u.$on("$destroy",function(){c[0]&&c[0].id&&n.removeRoot(c[0].id)})}}},c=function(e,u){return function(c,a,f){var d={restrict:"E",replace:!0,link:function(r,f,d){var l=t(c,u);a=a||{};var b=function(){var n={};a.forEach(function(t){n[t]=r.$eval(d[t])}),o(l,i(n,r),e,f)};a.forEach(function(n){r.$watch(d[n],function(){b()},!0)}),b(),r.$on("$destroy",function(){f[0]&&f[0].id&&n.removeRoot(f[0].id)})}};return r.extend(d,f)}};return r.module("bobril",[]).directive("bobrilComponent",["$timeout","$injector",u]).factory("bobrilDirective",["$timeout","$injector",c])});